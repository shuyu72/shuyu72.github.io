<!-- <!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, 
        initial-scale=1.0">
        <title>移動方塊</title>
        <canvas id="canvas"></canvas>
    </head>
    <body>
        <script type="text/javascript">
            function callCamera() {
                if ('mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices) {
                    console.log("Let's get this party started")
                }
                navigator.mediaDevices.getUserMedia({
                    video: {
                        minAspectRatio: 1.333,
                        minFrameRate: 60,
                        width: 640,
                        heigth: 480
                    }
                })
                navigator.mediaDevices.getUserMedia( MediaStreamConstraints )
                .then( MediaStream => {
                    /*assuming that there is a video tag having
                    an id 'video' in the index.html*/
                    const videoElem = document.getElementById( 'video');
                    
                    /*it is important to use the srcObject
                    attribute and not the src attribute
                    because, the src attribute does not
                    support the mediaStream as a value*/
                    videoElem.srcObject = mediaStream;
                    
                    //Don't forget to set the autoplay attribute to true
                    video.autoplay = true;
                    
                }).catch( error => {
                    //code to handle the error
                });
                
            //Or using async/await —

            async function accessCamera() {
                const videoElem = document.getElementById( 'video');
                let stream = null;
                try{
                    stream = await navigator.mediaDevices.getUserMedia(
                            MediaStreamConstraints );

                    //adding the received stream to the source of the video element
                    videoElem.srcObject = stream;
                
                    videoElem.autoplay = true;
                }catch(err) {
                    //code to handle the error
                }
            }
            

            /* This constraints object tells the browser to use the camera
            having resolution between 1200 X 720 and 1600 X 1080 resolution
            if available otherwise the returned promise is rejected with
            "NotFoundError" */
            // const constraints = {
            // //disables the audio media content in the resulting media stream
            //     audio: false,
            //     video: {
            //         width: {
            //             min: 1200,
            //             max: 1600
            //         },
            //         height: {
            //             min: 720,
            //             max: 1080
            //         }
            //     }
            // }; // Inherently sets video content to true or "required"


        
        const videoElem = document.getElementById('video');
        const errorElem = document.getElementById('error');
        //Declare the MediaStreamConstraints object    
  
            function openCamera() {
    //Ask the User for the access of the device camera and microphone
                navigator.mediaDevices.getUserMedia(constraints)
                    .then(mediaStream => {
                        /* The received mediaStream contains both the 
                        video and audio media data*/
    
    /*Add the mediaStream directly to the source of the video element
                        using the srcObject attribute*/
                        videoElem.srcObject = mediaStream;
    
                    }).catch(err => {
                        // handling the error if any
                        errorElem.innerHTML = err;
                        errorElem.style.display = "block";
                    });
    
            }


            //             //initializing the deviceId with null
            // let deviceId = null;

            //returns a promise that resolves to a list of
            //connected devices
            navigator.mediaDevices.enumerateDevices()
            .then( devices => {
                devices.forEach(device => {
                    //if the device is a video input
                    //then get its deviceId
                    if(device.kind === 'videoinput'){
                        deviceId = device.deviceId;
                    }
                });
            })
            .catch(err => {
                //handle the error
            });

            /* This constraints object tells the browser to
            use the camera having the given deviceId if
            available otherwise use other available devices*/
            const constraints = {
            //disables the audio media content in the resulting media stream
                audio: false,
                video: {
                    deviceId: deviceId
                }
            }; // Inherently sets video content to true or "required"

            
            function draw (id){            
            //獲取畫布id
            var canvas =document.getElementById(id);
            canvas.width  = document.body.clientWidth;//window.innerWidth;//getWidth();
  			canvas.height = getHeight();//document.body.clientHeight;//window.innerHeight;
            if(canvas==null)
                return false;
            //獲取上下文
            var  cxt =canvas.getContext("2d");            
            // randTime = Math.floor(Math.random() * 10 + 10);
            //var interval=setInterval(function(){move(cxt);},randTime);
            (function loop() {
                var randTime = Math.floor(Math.random() * 100 + 5);
                // var rand = Math.round(Math.random() * (3000 - 500)) + 500;
                    setTimeout(function() {
                    move(cxt);
                    loop();  
                }, randTime);
            }());
            }
            randX = 0;//Math.floor(Math.random() * getWidth());
            randY = 0;//Math.floor(Math.random() * getHeight());
            randMl= Math.floor(Math.random() * 10);
            var x=[];//randX;//矩形的x座標
            var y=[];//randY;//矩形的y座標
            var mx=[];//值為0向右，值為0向左
            var my=[];//值為0向下，值為0向上
            var ml=randMl;//移動的長度
            var w=20;//矩形的寬
            var h=20;//矩形的高
            var cw=document.body.clientWidth;//getWidth();//畫布的寬
            var ch=getHeight();//document.body.clientHeight;//畫布的高

            function initMXMY(size){
                for(i=0;i<size;i++){
                    mx.push(0);
                    my.push(0);
                }
            }

            function genXYArr(size){
                for(i=0;i<size;i++){
                    x.push(Math.floor(Math.random() * document.body.clientWidth));
                    y.push(Math.floor(Math.random() * getHeight()));
                }
            }
            
            function getWidth() {
                return Math.max(
                    document.body.scrollWidth,
                    document.documentElement.scrollWidth,
                    document.body.offsetWidth,
                    document.documentElement.offsetWidth,
                    document.documentElement.clientWidth
                );
            }

            function getHeight() {
                return Math.max(
                    document.body.scrollHeight,
                    document.documentElement.scrollHeight,
                    document.body.offsetHeight,
                    document.documentElement.offsetHeight,
                    document.documentElement.clientHeight
                );
            }
           
           function move(cxt){               
               cxt.clearRect(0,0,getWidth(),getHeight());//在給定的矩形內清除所有的畫素為透明
               cxt.fillStyle="#EEEEFF";//把填充顏色設定為指定的顏色
               cxt.fillRect(0,0,getWidth(),getHeight());//是用當前的填充風格填充指定的區域
               cxt.fillStyle="red";//把矩形設定為紅色
               var size=50;
               initMXMY(size);
               genXYArr(size);
               for(i=0;i<size;i++){
                    cxt.fillRect(x[i],y[i],w,h);//繪製矩形                
                    //判斷是否到達邊緣
                    if(mx[i]==0){
                        x[i]=x[i]+ml;//x座標加上移動長度
                        if(x[i]>cw-w){
                            mx[i]=1;
                        }
                    }else{
                        x[i]=x[i]-ml;
                        if(x[i]<=0){
                            mx[i]=0;                       
                        }
                    }
                    if(my[i]==0){
                        y[i]=y[i]+ml;
                        if(y[i]>ch-h){
                            my[i]=1;
                        }
                    }else{
                        y[i]=y[i]-ml;
                        if(y[i]<=0){
                            my[i]=0;                       
                        }
                    }
           }
        }              
           window.addEventListener("DOMContentLoaded",draw("canvas"),true);
           callCamera();
        </script>
        
    <style>
        body {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
          
        video {
            background-color: black;
            margin-bottom: 1rem;
        }
          
        #error {
            color: red;
            padding: 0.6rem;
            background-color: rgb(236 157 157);
            margin-bottom: 0.6rem;
            display: none;
        }
    </style>

  
<body>
    <h1> WebRTC getUserMedia() demo</h1>
    <video id='video'
           width="600"
            height="300" 
            autoplay playsinline>
        Sorry, video element not supported in your browser
    </video>
    <div id="error"></div>
    <button onclick="openCamera()"> Open Camera</button>
    
    </body>
</html> -->





<!-- <!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,
	initial-scale=1.0">
	<style>
		body {
			text-align: center;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
		
		video {
			background-color: black;
			margin-bottom: 1rem;
		}
		
		#error {
			color: red;
			padding: 0.6rem;
			background-color: rgb(236 157 157);
			margin-bottom: 0.6rem;
			display: none;
		}
	</style>
    <script  src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
	<title>GetUserMedia demo</title>
</head>

<body>
	<h1> WebRTC getUserMedia() demo</h1>

	<!-- If you use the playsinline attribute then
	the video is played "inline". If you omit this
	attribute then it works normal in the desktop
	browsers, but for the mobile browsers, the video
	takes the fullscreen by default. And don't forget
	to use the autoplay attribute
	<video id='video'
		width="600"
			height="300"
			autoplay playsinline>
		Sorry, video element not supported in your browser
	</video>
	<div id="error"></div>
	<button onclick="openCamera()"> Open Camera</button>
	<script>
		const videoElem = document.getElementById('video');
		const errorElem = document.getElementById('error');
		//Declare the MediaStreamConstraints object
		const constraints = {
			audio: false,
			video: {
           facingMode: "environment" //prefers front camera if available
// or facingMode: "environment"   perfers rear camera if available
      }
		}

		function openCamera() {
//Ask the User for the access of the device camera and microphone
			navigator.mediaDevices.getUserMedia(constraints)
				.then(mediaStream => {
					/* The received mediaStream contains both the
					video and audio media data*/

/*Add the mediaStream directly to the source of the video element
					using the srcObject attribute*/
					videoElem.srcObject = mediaStream;

				}).catch(err => {
					// handling the error if any
					errorElem.innerHTML = err;
					errorElem.style.display = "block";
				});

		}
	</script>
</body>

</html> -->
<!-- <html>
<head>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="crossorigin="anonymous"></script>
    <script  src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
</head>
<body>
<section id="container" class="container">
    <div class="controls">
        <fieldset class="input-group">
            <button class="stop">Stop</button>
        </fieldset>
        <fieldset class="reader-config-group">
           <label>
                <span>Barcode-Type</span>
                <select name="decoder_readers">
                    <option value="code_128" selected="selected">Code 128</option>
                    <option value="code_39">Code 39</option>
                    <option value="code_39_vin">Code 39 VIN</option>
                    <option value="ean">EAN</option>
                    <option value="ean_extended">EAN-extended</option>
                    <option value="ean_8">EAN-8</option>
                    <option value="upc">UPC</option>
                    <option value="upc_e">UPC-E</option>
                    <option value="codabar">Codabar</option>
                    <option value="i2of5">I2of5</option>
                </select>
            </label>
            <label>
                <span>Resolution (long side)</span>
                <select name="input-stream_constraints">
                    <option value="320x240">320px</option>
                    <option selected="selected" value="640x480">640px</option>
                    <option value="800x600">800px</option>
                    <option value="1280x720">1280px</option>
                    <option value="1600x960">1600px</option>
                    <option value="1920x1080">1920px</option>
                </select>
            </label>
            <label>
                <span>Patch-Size</span>
                <select name="locator_patch-size">
                    <option value="x-small">x-small</option>
                    <option value="small">small</option>
                    <option selected="selected" value="medium">medium</option>
                    <option value="large">large</option>
                    <option value="x-large">x-large</option>
                </select>
            </label>
            <label>
                <span>Half-Sample</span>
                <input type="checkbox" checked="checked" name="locator_half-sample" />
            </label>
            <label>
                <span>Workers</span>
                <select name="numOfWorkers">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option selected="selected" value="4">4</option>
                    <option value="8">8</option>
                </select>
            </label>
            <label>
                <span>Camera</span>
                <select name="input-stream_constraints" id="deviceSelection">
                </select>
            </label>
        </fieldset>
    </div>
    <div id="result_strip">
        <ul class="thumbnails"></ul>
    </div>
    <div id="interactive" class="viewport"></div>
</section>
<script>
    /**Quagga initialiser starts here*/

$(function() {
    var value;
    var App = {
        init : function() {
            Quagga.init(this.state, function(err) {
                if (err) {
                    console.log(err);
                    return;
                }
                App.attachListeners();
                Quagga.start();
            });
        },
        initCameraSelection: function(){
            var streamLabel = Quagga.CameraAccess.getActiveStreamLabel();

            return Quagga.CameraAccess.enumerateVideoDevices()
            .then(function(devices) {
                function pruneText(text) {
                    return text.length > 30 ? text.substr(0, 30) : text;
                }
                var $deviceSelection = document.getElementById("deviceSelection");
                while ($deviceSelection.firstChild) {
                    $deviceSelection.removeChild($deviceSelection.firstChild);
                }
                devices.forEach(function(device) {
                    var $option = document.createElement("option");
                    $option.value = device.deviceId || device.id;
                    $option.appendChild(document.createTextNode(pruneText(device.label || device.deviceId || device.id)));
                    $option.selected = streamLabel === device.label;
                    $deviceSelection.appendChild($option);
                });
            });
        },
            querySelectedReaders: function() {
        return Array.prototype.slice.call(document.querySelectorAll('.readers input[type=checkbox]'))
            .filter(function(element) {
                return !!element.checked;
            })
            .map(function(element) {
                return element.getAttribute("name");
            });
    },
        attachListeners: function() {
            var self = this;

            self.initCameraSelection();
            $(".controls").on("click", "button.stop", function(e) {
                e.preventDefault();
                Quagga.stop();
            });

            $(".controls .reader-config-group").on("change", "input, select", function(e) {
                e.preventDefault();
                var $target = $(e.target);
                   // value = $target.attr("type") === "checkbox" ? $target.prop("checked") : $target.val(),
                   value =  $target.attr("type") === "checkbox" ? this.querySelectedReaders() : $target.val();
                  var  name = $target.attr("name"),
                    state = self._convertNameToState(name);

                console.log("Value of "+ state + " changed to " + value);
                self.setState(state, value);
            });
        },
        _accessByPath: function(obj, path, val) {
            var parts = path.split('.'),
                depth = parts.length,
                setter = (typeof val !== "undefined") ? true : false;

            return parts.reduce(function(o, key, i) {
                if (setter && (i + 1) === depth) {
                    if (typeof o[key] === "object" && typeof val === "object") {
                        Object.assign(o[key], val);
                    } else {
                        o[key] = val;
                    }
                }
                return key in o ? o[key] : {};
            }, obj);
        },
        _convertNameToState: function(name) {
            return name.replace("_", ".").split("-").reduce(function(result, value) {
                return result + value.charAt(0).toUpperCase() + value.substring(1);
            });
        },
        detachListeners: function() {
            $(".controls").off("click", "button.stop");
            $(".controls .reader-config-group").off("change", "input, select");
        },
        setState: function(path, value) {
            var self = this;

            if (typeof self._accessByPath(self.inputMapper, path) === "function") {
                value = self._accessByPath(self.inputMapper, path)(value);
            }

            self._accessByPath(self.state, path, value);

            console.log(JSON.stringify(self.state));
            App.detachListeners();
            Quagga.stop();
            App.init();
        },
        inputMapper: {
            inputStream: {
                constraints: function(value){
                    if (/^(\d+)x(\d+)$/.test(value)) {
                        var values = value.split('x');
                        return {
                            width: {min: parseInt(values[0])},
                            height: {min: parseInt(values[1])}
                        };
                    }
                    return {
                        deviceId: value
                    };
                }
            },
            numOfWorkers: function(value) {
                return parseInt(value);
            },
            decoder: {
                readers: function(value) {
                    if (value === 'ean_extended') {
                        return [{
                            format: "ean_reader",
                            config: {
                                supplements: [
                                    'ean_5_reader', 'ean_2_reader'
                                ]
                            }
                        }];
                    }
                    console.log("value before format :"+value);
                    return [{
                        format: value + "_reader",
                        config: {}
                    }];
                }
            }
        },
        state: {
            inputStream: {
                type : "LiveStream",
                constraints: {
                    width: {min: 640},
                    height: {min: 480},
                    aspectRatio: {min: 1, max: 100},
                    facingMode: "environment" // or user
                }
            },
            locator: {
                patchSize: "large",
                halfSample: true
            },
            numOfWorkers: 4,
            decoder: {
                readers : ["code_39_reader","code_128_reader"]
            },
            locate: true,
            multiple:true
        },
        lastResult : null
    };
    
                   //value =  App.querySelectedReaders() ;
    App.init();

    Quagga.onProcessed(function(result) {
        var drawingCtx = Quagga.canvas.ctx.overlay,
            drawingCanvas = Quagga.canvas.dom.overlay;

        if (result) {
            if (result.boxes) {
                drawingCtx.clearRect(0, 0, parseInt(drawingCanvas.getAttribute("width")), parseInt(drawingCanvas.getAttribute("height")));
                result.boxes.filter(function (box) {
                    return box !== result.box;
                }).forEach(function (box) {
                    Quagga.ImageDebug.drawPath(box, {x: 0, y: 1}, drawingCtx, {color: "green", lineWidth: 2});
                });
            }

            if (result.box) {
                Quagga.ImageDebug.drawPath(result.box, {x: 0, y: 1}, drawingCtx, {color: "#00F", lineWidth: 2});
            }

            if (result.codeResult && result.codeResult.code) {
                Quagga.ImageDebug.drawPath(result.line, {x: 'x', y: 'y'}, drawingCtx, {color: 'red', lineWidth: 3});
            }
        }
    });

    Quagga.onDetected(function(result) {
        var code = result.codeResult.code;
        console.log(code);

        if (App.lastResult !== code) {
            App.lastResult = code;
            var $node = null, canvas = Quagga.canvas.dom.image;

            $node = $('<li><div class="thumbnail"><div class="imgWrapper"><img /></div><div class="caption"><h4 class="code"></h4></div></div></li>');
            $node.find("img").attr("src", canvas.toDataURL());
            $node.find("h4.code").html(code);
            $("#result_strip ul.thumbnails").prepend($node);
        }
        Quagga.offDetected();
    });
    
});
</script>
<style>
    @charset "UTF-8";

.collapsable-source pre {
    font-size: small;
}

.input-field {
    display: flex;
    align-items: center;
    width: 260px;
}

.input-field label {
    flex: 0 0 auto;
    padding-right: 0.5rem;
}

.input-field input {
    flex: 1 1 auto;
    height: 20px;
}

.input-field button {
    flex: 0 0 auto;
    height: 28px;
    font-size: 20px;
    width: 40px;
}

.icon-barcode {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center center;
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTTAgNGg0djIwaC00ek02IDRoMnYyMGgtMnpNMTAgNGgydjIwaC0yek0xNiA0aDJ2MjBoLTJ6TTI0IDRoMnYyMGgtMnpNMzAgNGgydjIwaC0yek0yMCA0aDF2MjBoLTF6TTE0IDRoMXYyMGgtMXpNMjcgNGgxdjIwaC0xek0wIDI2aDJ2MmgtMnpNNiAyNmgydjJoLTJ6TTEwIDI2aDJ2MmgtMnpNMjAgMjZoMnYyaC0yek0zMCAyNmgydjJoLTJ6TTI0IDI2aDR2MmgtNHpNMTQgMjZoNHYyaC00eiI+PC9wYXRoPjwvc3ZnPg==);
}

.overlay {
    overflow: hidden;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.3);
}

.overlay__content {
    top: 50%;
    position: absolute;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-height: 90%;
    max-width: 800px;
}

.overlay__close {
    position: absolute;
    right: 0;
    padding: 0.5rem;
    width: 2rem;
    height: 2rem;
    line-height: 2rem;
    text-align: center;
    background-color: white;
    cursor: pointer;
    border: 3px solid black;
    font-size: 1.5rem;
    margin: -1rem;
    border-radius: 2rem;
    z-index: 100;
    box-sizing: content-box;
}

.overlay__content video {
    width: 100%;
    height: 100%;
}

.overlay__content canvas {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
}

#interactive.viewport {
    position: relative;
}

#interactive.viewport > canvas, #interactive.viewport > video {
    max-width: 100%;
    width: 100%;
}

canvas.drawing, canvas.drawingBuffer {
    position: absolute;
    left: 0;
    top: 0;
}

/* line 16, ../sass/_viewport.scss */
.controls fieldset {
  border: none;
}
/* line 19, ../sass/_viewport.scss */
.controls .input-group {
  float: left;
}
/* line 21, ../sass/_viewport.scss */
.controls .input-group input, .controls .input-group button {
  display: block;
}
/* line 25, ../sass/_viewport.scss */
.controls .reader-config-group {
  float: right;
}
/* line 28, ../sass/_viewport.scss */
.controls .reader-config-group label {
  display: block;
}
/* line 30, ../sass/_viewport.scss */
.controls .reader-config-group label span {
  width: 11rem;
  display: inline-block;
  text-align: right;
}
/* line 37, ../sass/_viewport.scss */
.controls:after {
  content: '';
  display: block;
  clear: both;
}

/* line 22, ../sass/_viewport.scss */
#result_strip {
  margin: 10px 0;
  border-top: 1px solid #EEE;
  border-bottom: 1px solid #EEE;
  padding: 10px 0;
}
/* line 28, ../sass/_viewport.scss */
#result_strip ul.thumbnails {
  padding: 0;
  margin: 0;
  list-style-type: none;
  width: auto;
  overflow-x: auto;
  overflow-y: hidden;
  white-space: nowrap;
}
/* line 37, ../sass/_viewport.scss */
#result_strip ul.thumbnails > li {
  display: inline-block;
  vertical-align: middle;
  width: 160px;
}
/* line 41, ../sass/_viewport.scss */
#result_strip ul.thumbnails > li .thumbnail {
  padding: 5px;
  margin: 4px;
  border: 1px dashed #CCC;
}
/* line 46, ../sass/_viewport.scss */
#result_strip ul.thumbnails > li .thumbnail img {
  max-width: 140px;
}
/* line 49, ../sass/_viewport.scss */
#result_strip ul.thumbnails > li .thumbnail .caption {
  white-space: normal;
}
/* line 51, ../sass/_viewport.scss */
#result_strip ul.thumbnails > li .thumbnail .caption h4 {
  text-align: center;
  word-wrap: break-word;
  height: 40px;
  margin: 0px;
}
/* line 61, ../sass/_viewport.scss */
#result_strip ul.thumbnails:after {
  content: "";
  display: table;
  clear: both;
}

@media (max-width: 603px) {
  /* line 2, ../sass/phone/_core.scss */
  #container {
    margin: 10px auto;
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
}
@media (max-width: 603px) {
  /* line 5, ../sass/phone/_viewport.scss */
  #interactive.viewport {
    width: 100%;
    height: auto;
    overflow: hidden;
  }

  /* line 20, ../sass/phone/_viewport.scss */
  #result_strip {
    margin-top: 5px;
    padding-top: 5px;
  }

  #result_strip ul.thumbnails {
    width: 100%;
    height: auto;
  }

  /* line 24, ../sass/phone/_viewport.scss */
  #result_strip ul.thumbnails > li {
    width: 150px;
  }
  /* line 27, ../sass/phone/_viewport.scss */
  #result_strip ul.thumbnails > li .thumbnail .imgWrapper {
    width: 130px;
    height: 130px;
    overflow: hidden;
  }
  /* line 31, ../sass/phone/_viewport.scss */
  #result_strip ul.thumbnails > li .thumbnail .imgWrapper img {
    margin-top: -25px;
    width: 130px;
    height: 180px;
  }
}
</style>
</body>

</html> -->

<html lang="zh-TW" manifest="index.manifest">
    <head>        
        <meta name="viewport" content="width=100%, initial-scale=1.1, user-scalable=no" />
        <script src="html5-qrcode.min.js"></script>
        <script src="index.js"></script>
        <script src="https://raw.githubusercontent.com/mebjas/html5-qrcode/master/minified/html5-qrcode.min.js"></script>
        <!-- <script  src="html5-qrcode.min.js"></script>                 -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
        <!-- <link rel="stylesheet" type="text/css" href="index.css" />   -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>      
        
        <!-- <script src="html5-qrcode-demo.js"></script> -->        
    </head>
    <body>
        <h1 id="result"></h1>
        <div class="container">
        <div class="text-center my-5">
            <!-- <div class="col-md-3"></div>        
            <div class="col-md-3"></div>
            <div class="col-md-3">                 -->
                <div class="btn btn-success" onclick="start()">開始</div>                    
            <!-- </div>
            <div class="col-md-3"></div>         -->
        </div>
        <div class="text-center justify-content-center my-2 row">
            <div class="mx-0 input-group col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <input type="text" class="form-control" placeholder="掃描或輸入單號" id="inputBarCode"/>
                <div class="input-group-append">                
                    <div class="btn btn-danger px-1 reset-input" onclick="clearInput('inputBarCode')">×</div>
                </div>
                <div class="input-group-append">                
                    <div class="btn btn-primary px-3" onclick="newRecordOrNewOrder()">確認</div>
                </div>
                <div class="input-group-append">                
                    <div class="btn btn-warning px-1">掃描輸入</div>
                </div>
            </div>        
        </div>
        <div class="d-flex text-center">
            <!-- <div style="width: 100%" id="reader"></div> -->
            <div id="qr-reader" class="col-xs-12" style="width:100%;"></div>
            <div id="qr-reader-results"></div>
        </div>    
        <div class="row my-3 d-flex justify-content-center text-center">
            <h5>單號:</h5>
            <h5 id="orderId"></h5>
        </div>
        <div class="text-center">            
        <div class="container">
            <br>            
              <div class="text-center table-wrapper">                                                  
                <table class="table">
                  <thead>
                    <tr>
                      <th class="col-xs-2">項次</th>
                      <!-- <th class="col-xs-2">品號</th>
                      <th class="col-xs-2">品名</th> -->
                      <th class="col-xs-4">條碼</th>
                      <th class="col-xs-4">暗記</th>                      
                      <th class="col-xs-2">移除</th>
                    </tr>
                  </thead>
                  <tbody>                    
                  </tbody>
                </table>
              </div>
            </div>    
        </div>        
        <div class="row text-center my-5 mx-0 inline-block">
            <div class="col-3 col-md-3"></div>        
            <div class="col-3 col-md-3">
                <div class="btn btn-info" onclick="clearTable()">重置</div>
            </div>
            <div class="col-3 col-md-3">                
                <div class="btn btn-danger" onclick="end()">結束</div>
            </div>
            <div class="col-3 col-md-3"></div>        
        </div>
        </div>
        <style>
            .table-wrapper {
                width: 200%;
                overflow: auto;
                display:inline-block;
            }            
            /* table {
                max-height: 5rem;
                width: 120%;
                /* display: inline-block; */
                /* overflow-x: auto;
                white-space: nowrap; 
            } */
            
        </style>        
    </body>
</html>


